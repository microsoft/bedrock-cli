# Azure DevOps Configuration
azure_devops:
  access_token: "" # This is a Personal Access Token with permission to modify and access the HLD, manifest and infra repos. Leave this empty if project is public. Details for the PAT at: https://github.com/CatalystCode/spk/blob/master/docs/project-service-management-guide.md#generating-personal-access-token
  hld_repository: "https://dev.azure.com/<organization>/<project>/_git/<hld-repo>" # Repository URL for your Bedrock HLDs
  manifest_repository: "https://dev.azure.com/<organization>/<project>/_git/<manifest-repo>" # Repository URL for your materialized manifests generated by fabrikate.
  infra_repository: "https://dev.azure.com/<organization>/<project>/_git/<infra-repo>" # Repository URL that contains your terraform templates to be sed for scaffolding and generating infrastructure deployment templates.
  org: "" # Your AzDo Org
  project: "" # Your AzDo project
infra:
  # DO NOT MODIFY THE FOLLOWING
  # Prerequisite versions are auto-generated upon executing `spk init`
  terraform: "v0.12.6"
  helm: "v2.14.3"
  git: "2.17.1"
  az: "2.0.71"

introspection:
  dashboard:
    image: "mcr.microsoft.com/k8s/bedrock/spektate:latest" # Use this default docker image unless you would like to use a custom one
    name: "spektate"
  azure: # This is the storage account for the service introspection tool.
    account_name: "storage-account-name" # Must be defined to run spk deployment commands
    table_name: "storage-account-table-name" # Must be defined to run spk deployment commands
    partition_key: "storage-account-table-partition-key" # Must be defined to run spk deployment commands
    key: "storage-access-key" # Must be defined to run spk deployment commands. Use ${env:INTROSPECTION_STORAGE_ACCESS_KEY} and set it in .env file
    source_repo_access_token: "source_repo_access_token" # Optional. Required only when source repository is private (in order to render the author column in dashboard)

    # Following 5 fields are needed only if using spk to onboard to use introspection tool
    service_principal_id: "service-principal-id"
    service_principal_secret: "service-principal-secret"
    subscription_id: "subscription-id"
    tenant_id: "tenant-id"
    resource_group: "resource-group-name"
key_vault_name: # azure key vault name"
